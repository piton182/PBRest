<html>
<head>
    <meta charset="UTF-8">
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="https://cdn.rawgit.com/visionmedia/page.js/master/page.js"></script>
    <script type="text/javascript">

        function showSeating(json) {
            var seat = json.definitions.seatmap[0];
            $("#seatPosition").html("<b>Seat:</b> " + JSON.stringify(seat));

            var seatTypesMap = getMapFromList(json.definitions.seats);
            $("#seatSize").html("<b>Seat_type_ref:</b> " + JSON.stringify(seatTypesMap.get(seat["seat_type_ref"])));

            var deckTypesMap = getMapFromList(json.aircraft.decks);
            $("#seatDeck").html("<b>Deck_ref:</b> " + JSON.stringify(deckTypesMap.get(seat["deck_ref"])));
        }

        function getMapFromList(someList) {
            var result = new Map();
            for (var i = 0; i < someList.length; i++) {
                result.set(someList[i].id, someList[i]);
            }
            return result;
        }
    </script>
    <script src="routing.js"></script>
</head>
<body onLoad='doAjax("NVR123", "departureDate");'>
<img id="backdropIn" src="" style="float: left">
<img id="backdropOut" src="" style="float: left">

<div style="margin-left: 250px">
    <H2>Seat information:</H2>

    <div id="seatPlace"
         style="width: 8px; height: 10px; background-color: yellow; border-color: black; border-style: solid; border-width: 1px"></div>
    <div id="seatPosition"></div>
    <div id="seatSize"></div>
    <div id="seatDeck"></div>
</div>
</body>
</html>
